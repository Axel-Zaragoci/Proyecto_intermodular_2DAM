<Window x:Class="desktop_app.Views.UpdateRoomWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Actualizar habitación"
        Height="610" Width="860"
        WindowStartupLocation="CenterOwner"
        Background="{StaticResource PageBgBrush}"
        ResizeMode="CanResize">

    <Grid Margin="18">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- HEADER -->
        <Border Grid.Row="0"
                Style="{StaticResource BgColor}"
                CornerRadius="16"
                Padding="14"
                Margin="0,0,0,12">

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel>
                    <TextBlock Text="Actualizar habitación"
                               FontSize="22"
                               FontWeight="Bold"
                               Foreground="White"/>

                    <Border Background="#1E5C8A"
                            CornerRadius="999"
                            Padding="10,4"
                            Margin="0,8,0,0"
                            HorizontalAlignment="Left">
                        <TextBlock Foreground="White"
                                   FontSize="12"
                                   FontWeight="SemiBold"
                                   Text="{Binding Room.Id}"/>
                    </Border>
                </StackPanel>

    
            </Grid>
        </Border>

        <!-- CARD -->
        <Border Grid.Row="1"
                Background="White"
                BorderBrush="{StaticResource SoftBorder}"
                BorderThickness="1"
                CornerRadius="16"
                Padding="14">

            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <!-- 0 -->
                            <RowDefinition Height="Auto"/>
                            <!-- 1 -->
                            <RowDefinition Height="Auto"/>
                            <!-- 2 -->
                            <RowDefinition Height="Auto"/>
                            <!-- 3 -->
                            <RowDefinition Height="Auto"/>
                            <!-- 4 -->
                            <RowDefinition Height="Auto"/>
                            <!-- 5 (desc) -->
                        </Grid.RowDefinitions>

                        <!-- FILA 0 -->
                        <StackPanel Grid.Column="0" Grid.Row="0" Margin="0,0,12,10">
                            <TextBlock Text="Número" Style="{StaticResource CompactLabel}"/>
                            <TextBox Style="{StaticResource CompactTextBox}"
                                     Text="{Binding Room.RoomNumber, UpdateSourceTrigger=PropertyChanged}"/>
                        </StackPanel>

                        <StackPanel Grid.Column="1" Grid.Row="0" Margin="0,0,12,10">
                            <TextBlock Text="Tipo" Style="{StaticResource CompactLabel}"/>
                            <ComboBox Height="30"
                                      Padding="10,0"
                                      Background="#F3F5F8"
                                      BorderBrush="{StaticResource SoftBorder}"
                                      BorderThickness="1"
                                      SelectedValue="{Binding Room.Type, UpdateSourceTrigger=PropertyChanged}"
                                      SelectedValuePath="Tag">
                                <ComboBoxItem Content="Single" Tag="single"/>
                                <ComboBoxItem Content="Double" Tag="double"/>
                                <ComboBoxItem Content="Suite"  Tag="suite"/>
                                <ComboBoxItem Content="Family" Tag="family"/>
                            </ComboBox>
                        </StackPanel>

                        <StackPanel Grid.Column="2" Grid.Row="0" Margin="0,0,0,10">
                            <TextBlock Text="Precio/noche (€)" Style="{StaticResource CompactLabel}"/>
                            <TextBox Style="{StaticResource CompactTextBox}"
                                     Text="{Binding Room.PricePerNight, UpdateSourceTrigger=PropertyChanged}"/>
                        </StackPanel>

                        <!-- FILA 1 -->
                        <StackPanel Grid.Column="0" Grid.Row="1" Margin="0,0,12,10">
                            <TextBlock Text="Máx. huéspedes" Style="{StaticResource CompactLabel}"/>
                            <TextBox Style="{StaticResource CompactTextBox}"
                                     Text="{Binding Room.MaxGuests, UpdateSourceTrigger=PropertyChanged}"/>
                        </StackPanel>

                        <StackPanel Grid.Column="1" Grid.Row="1" Margin="0,0,12,10">
                            <TextBlock Text="MainImage (URL)" Style="{StaticResource CompactLabel}"/>
                            <TextBox Style="{StaticResource CompactTextBox}"
                                     Text="{Binding Room.MainImage, UpdateSourceTrigger=PropertyChanged}"/>
                        </StackPanel>

                        <StackPanel Grid.Column="2" Grid.Row="1" Margin="0,0,0,10">
                            <TextBlock Text="Oferta" Style="{StaticResource CompactLabel}"/>
                            <TextBox Style="{StaticResource CompactTextBox}"
                                     Text="{Binding Room.Offer, UpdateSourceTrigger=PropertyChanged}"/>
                        </StackPanel>

                        <!-- FILA 2 -->
                        <StackPanel Grid.Column="0" Grid.Row="2" Margin="0,0,12,10">
                            <TextBlock Text="Rate" Style="{StaticResource CompactLabel}"/>
                            <TextBox Style="{StaticResource CompactTextBox}"
                                     Text="{Binding Room.Rate, UpdateSourceTrigger=PropertyChanged}"/>
                        </StackPanel>

                        <StackPanel Grid.Column="2" Grid.Row="2" Margin="0,0,0,10">
                            <TextBlock Text="Extras (csv)" Style="{StaticResource CompactLabel}"/>
                            <TextBox Style="{StaticResource CompactTextBox}"
                                     Text="{Binding ExtrasText, UpdateSourceTrigger=PropertyChanged}"/>
                        </StackPanel>

                        <StackPanel Grid.Column="1" Grid.Row="2" Margin="0,0,12,10">
                            <TextBlock Text="Imágenes extra (csv)" Style="{StaticResource CompactLabel}"/>
                            <TextBox Style="{StaticResource CompactTextBox}"
                                     Text="{Binding ExtraImagesText, UpdateSourceTrigger=PropertyChanged}"/>
                        </StackPanel>

                        <!-- FILA 3: Opciones -->
                        <StackPanel Grid.Column="0" Grid.Row="3" Grid.ColumnSpan="3" Margin="0,2,0,10">
                            <TextBlock Text="Opciones" Style="{StaticResource CompactLabel}"/>
                            <WrapPanel>
                                <CheckBox Content="Disponible"
                                          Style="{StaticResource CompactCheckBox}"
                                          IsChecked="{Binding Room.IsAvailable}"/>
                                <CheckBox Content="Cama extra"
                                          Style="{StaticResource CompactCheckBox}"
                                          IsChecked="{Binding Room.ExtraBed}"/>
                                <CheckBox Content="Cuna"
                                          Style="{StaticResource CompactCheckBox}"
                                          IsChecked="{Binding Room.Crib}"/>
                            </WrapPanel>
                        </StackPanel>

                        <!-- FILA 5: Descripción -->
                        <StackPanel Grid.Column="0" Grid.Row="5" Grid.ColumnSpan="3" Margin="0,0,0,6">
                            <TextBlock Text="Descripción" Style="{StaticResource CompactLabel}"/>
                            <TextBox Height="85"
                                     AcceptsReturn="True"
                                     TextWrapping="Wrap"
                                     Padding="10,8"
                                     Background="#F3F5F8"
                                     BorderBrush="{StaticResource SoftBorder}"
                                     BorderThickness="1"
                                     Text="{Binding Room.Description, UpdateSourceTrigger=PropertyChanged}"/>
                        </StackPanel>

                    </Grid>
                </ScrollViewer>

                <!-- Footer -->
                <Grid Grid.Row="1" Margin="0,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="10"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <Button Grid.Column="1"
                            Style="{StaticResource GhostButton}"
                            Content="Cancelar"
                            Height="32"
                            Padding="14,0"
                            Width="70"
                            Command="{Binding CancelCommand}"/>

                    <Button Grid.Column="3"
                            Style="{StaticResource PrimaryButton}"
                            Content="Guardar cambios"
                            Height="32"
                            Width="70"
                            Padding="16,0"
                            Command="{Binding SaveCommand}"/>
                </Grid>
            </Grid>
        </Border>
    </Grid>
</Window>

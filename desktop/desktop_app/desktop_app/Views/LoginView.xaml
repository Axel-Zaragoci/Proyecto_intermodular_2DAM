<Window x:Class="desktop_app.Views.LoginView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Height="Auto" 
             Width="Auto"
             WindowState="Maximized">
    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVis" />
    </Window.Resources>
    <Window.Background>
        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#0F2854" Offset="0.0"/>
            <GradientStop Color="#0F2854" Offset="1.0"/>
            <GradientStop Color="#1C4D8D" Offset="0.35"/>
            <GradientStop Color="#1C4D8D" Offset="0.65"/>
            <GradientStop Color="#4988C4" Offset="0.45"/>
            <GradientStop Color="#4988C4" Offset="0.50"/>
        </LinearGradientBrush>
    </Window.Background>

    <Grid VerticalAlignment="Center" HorizontalAlignment="Center">
        <Image Source="/Resources/Images/hotelLogo.png" Opacity="0.6"/>
        <Grid Margin="20" HorizontalAlignment="Center" VerticalAlignment="Center">
            <Border Margin="10" BorderBrush="#0F2854" BorderThickness="2" Padding="30" Background="#BDE8F5" CornerRadius="50" Opacity="0.90">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="20" ShadowDepth="25" Direction="300" Opacity="0.35" Color="#0F2854"/>
                </Border.Effect>

                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <Border Grid.Row="0" CornerRadius="100" Padding="15" BorderBrush="#0F2854" BorderThickness="4" Margin="116,0,116,0">
                        <Viewbox Width="75" Height="75">
                            <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE77B;" Foreground="#0F2854" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                        </Viewbox>
                    </Border>

                    <StackPanel Grid.Row="1" Margin="0,0,0,12">
                        <TextBlock Text="Email" Margin="0,0,0,6" FontSize="20"/>
                        <TextBox x:Name="EmailTextBox" Height="35" Width="300" Padding="8" ToolTip="Introduce tu email" BorderBrush="Transparent" Text="{Binding Email, UpdateSourceTrigger=PropertyChanged}"/>
                    </StackPanel>

                    <StackPanel Grid.Row="2" Margin="0,0,0,12">
                        <Label Content="Password" Margin="0,0,0,6" FontSize="20"/>
                        <Grid Width="300" Height="35">
                            <TextBox x:Name="PasswordTextBox" Padding="8" BorderBrush="Transparent" Text="{Binding Password, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Visibility="{Binding IsPasswordVisible, Converter={StaticResource BoolToVis}}"/>
                            <PasswordBox x:Name="PasswordBox" Padding="8" BorderBrush="Transparent">
                                <PasswordBox.Style>
                                    <Style TargetType="PasswordBox">
                                        <Setter Property="Visibility" Value="Visible"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding IsPasswordVisible}" Value="True">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </PasswordBox.Style>
                            </PasswordBox>
                            <Button Content="👁" Width="30" Height="30" HorizontalAlignment="Right" VerticalAlignment="Center" Background="Transparent" BorderBrush="Transparent" Focusable="False" Command="{Binding TogglePasswordVisibilityCommand}">
                                <Button.Template>
                                    <ControlTemplate TargetType="Button">
                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                    </ControlTemplate>
                                </Button.Template>
                            </Button>
                        </Grid>
                    </StackPanel>

                    <StackPanel Grid.Row="3" HorizontalAlignment="Center" VerticalAlignment="Center">
                        <Border CornerRadius="20" BorderBrush="Black" BorderThickness="1">
                            <Button Content="ENTRAR" Height="32" Width="120" Background="Transparent" BorderBrush="Transparent" Focusable="False" Command="{Binding LoginCommand}">
                                <Button.Template>
                                    <ControlTemplate TargetType="Button">
                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                    </ControlTemplate>
                                </Button.Template>
                            </Button>
                        </Border>
                    </StackPanel>

                    <TextBlock Grid.Row="4" Margin="0,12,0,0" TextWrapping="Wrap" Foreground="DarkRed" HorizontalAlignment="Center" Text="{Binding StatusText}"/>

                </Grid>
            </Border>
        </Grid>
    </Grid>
</Window>